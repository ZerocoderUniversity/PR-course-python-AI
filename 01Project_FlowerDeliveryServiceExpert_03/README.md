### Описание проекта

Данный проект программы предназначен для автоматизации работы малых и средних интернет-магазинов по продаже цветов в данном исходном варианте или любых товаров, проект легко перестраивается для продажи любых товаров.

### **Структурная и логическая работа данного проекта**

Любой пользователь, который зашел в данный интернет-магазин с целью приобретения товара (вместо цветов будем называть товар) встречается с приятным фоновым оформления экрана и названия магазина. В верхней части экрана в строчку расположены пункты меню.

- **Home**:
- **Информация**:
- **Корзина**:
- **Войти**:
- **Поиск**:

**Описание пунктов меню**

- Пункт меню **"Home"** возвращает пользователя на основной экран.
- Пункт меню **"Информация"** имеет следующие подменю:
    - **«Доставка и оплата»**:
    - **«Контактная информация»**:
    - **«Про нас»**:

Информация находящаяся в этих подменю интуитивно связана с названием пункта меню.

- Пункт меню **"Корзина"**:
- Пункт меню **"Войти"**: - При входе в этот пункт меню пользователю будет предложено авторизоваться или зарегистрироваться. При регистрации или при входе в свой аккаунт данный пункт меню меняет название на **«Мой профиль»**, который будет иметь следующие подменю:
    - **Корзина**:
    - **Личный кабинет**:
    - **Админ панель** - появляется если авторизовался Администратор.
    - **Выйти**:
- Пункт меню **"Поиск"**: - В поле поиск можно ввести любую информацию о товаре которая присутствует в любой карточке товара. Карточки всех товаров, подходящих под критерии поиска, отобразятся на главном экране. ***Во всех карточках поисковое слово будет подсвечиваться желтым цветом.***

Все пункты меню подразумевают действия согласно их названиям.

**Описание "Личного кабинета"**

- **Личный кабинет** - содержится следующая информация о пользователе.
    - **Профиль пользователя** - содержит:
        - **Фото** или логотип, или аватар по желанию.
        - **Имя** пользователя,
        - **Фамилию** пользователя,
        - **Имя пользователя** - Nick под которым пользователь авторизуется,
        - **email** пользователя,
        - **Кнопка Сохранить** - сохраняет результат в случае редактирования профиля
- **Корзина** - корзина с выбранными товарами, которые можно редактировать, увеличить или уменьшить количество товара, удалять его.
    - **Итоговая сумма** - сумма с учетом скидок, если таковые имеются и количества.
- **Мои заказы** - По совокупности это история заказов. После оформления заказа, или если покупатель ранее осуществлял покупки, то в этом разделе появятся строчки заказов в виде раскрывающихся списков в которых содержится информация по каждому заказу.
    - **№ Заказа, Дата, Время, Статус заказа** - Статус заказа подразумевает состояние заказа в данный момент времени. Покупатель в любой момент времни зайдя в ***Личный кабинет*** может узнать о статусе заказа. Он может изменяется Администратором или Персоналом магазина в зависимости от стадии обработки заказа и может быть в следующих вариантах - ***В обработке***, ***Осуществляется доставка***, ***Заказ доставлен***, в случае самовывоза - ***Готов к выдачи***.
    - **Товар** - Включает название товара, если в заказе несколько позиций, то для каждого позиции товара отводиться отдельная строка.
    - **Количество** - Количество товара в каждой позиции.
    - **Цена** - Стоимость за единицу товара в каждой позиции с учетом скидки, если такова имелась.
    - **Общая стоимость** - Это ***Цена*** товара с учетом количества в каждой позиции.

В разделе **Мои заказы** можно выбрать любой ранее оформленный заказ, раскрыть список и просмотреть информацию по выбранному заказу. В любой позиции данного заказа можно выбрать и заказать заново ранее купленный товар. Оформление выбранного товара из ***Истории*** заказа происходит через ***Корзину***. Это сделано для того, что если на данный момент такого товара нет в наличии, и в карточке товара в разделе количество товара стоит количество - **0**, то выйдет предупреждение, что данный товар приобрести нет возможности. В этой ситуации покупатель может связаться с магазином, заказать данный товар, и по просьбе покупателя и после того как выбранный товар, в данном случае букет цветов будет готов, Администратор или Персонал магазина может отредактировать корзину покупателя, добавить данный товар сначала в карточку товара, а затем в корзину и установить статус ***Оплата при получении*** и ***Доставка***, тем самым выполнить просьбу постоянного клиента.

Если пользователь зашел логином и паролем администратора, то в меню **Мой профиль** появляется пункт меню ***Админ панель***.

**Описание админ панели**

При входе Администратор получает большие возможности по администрированию сайта и магазина.

- **Пункт меню «Заказы»**:Можно просматривать все сделанные заказы, статусы этих заказов и многое другое. Также есть возможность фильтрации информации по разным параметрам. Есть возможность удалять выбранные заказы.
- **Проданные товары**:Выводится подробная информация о заказах, проданных товарах и их количестве, остатке данного товара, сумме и итоговой сумме с учетом количества за проданный товар. Также имеется возможность фильтрации данной информации, выборки проданных товаров за ***день***, ***неделю***, ***месяц***, ***год*** или ***любой выбранный период***. Также можно все эти выборки вывести в файл и в дальнейшем распечатать, используя пункт в раскрывающемся списке **Действия** и выбрав в нем **Export as csv**. и указав путь, куда будет выводиться файл выполнить экспорт. Копия экспортного файла также запишется в каталог **exports**.
- **Корзина**:
- **Пользователи**:Можно просматривать и редактировать всю информацию о пользователях. Если отметить статус пользователя как **суперпользователя**, то он получает права Администратора. Если отметить статус пользователя как **Статус персонала**, то этот пользователь может работать в качестве персонала. Администратор может делегировать ему различные права и допуски для работы в качестве персонала-администратора.
- **Группы**.
- **Товары**. В нем имеются следующие подпункты.
    - **Категории**:Администратор или персонал магазина может создавать и редактировать категории, на которые будут разделяться товары.
    - **Продукты**:Администратор или персонал магазина могут создавать и заносить в базу данных новые товары, назначать категорию товара, заносить название, описание, стоимость, скидки на товар в процентах от стоимости, количество товара. Подгружается фото товара.
    - **Рейтинг товаров**:В проекте имеется возможность покупателям отмечать рейтинг товара и оставлять субъективную информацию о данном товаре. В этом пункте меню можно просматривать данные рейтингов на любые товары с целью более гибкого формирования ценовой и скидочной политики интернет-магазина.

> Внимание
> 
> 
> > Для того чтобы выйти из панели администратора необходимо нажать на пункт меню панели администратора, находящегося в верхнем правом углу, после приветствия имени администратора на кнопку "Открыть сайт"
> > 

**Описание главного экрана**

На главном экране находятся две пиктограммы: **«Каталог»** и **«Корзина»** с индикацией количества товаров в ней. Любой пользователь может зайти в **Каталог**, который раскроет список **Категории товаров**. Выбрав какой-либо раздел или **«Выбрать все»**, на экране появятся карточки ***всех товаров или товары данной категории***.

**Пагинатор**

На экране будет отображаться только три карты товаров из всех выбранной категории или всех товаров, ниже будет располагаться пагинатор, с помощью которого можно перемещаться по все остальным товарам. Если карточек много, пагинатор настроен таким образом, чтобы отображать номера двух страниц до и после действующей страницы с тремя картами товаров. Это сделано с целью экономии места на экране.

**Карточка товара**

Каждая карточка товара содержит:

- **Изображение товара**, так же на ней отображается скидка на товар в процентах, если она имеется.
- **Название товара** - выделенное синим цветом. Кликнув на нее, можно перейти к подробной карте этого товара.
- **Краткую информацию о товаре** - отображается только часть описания. Для просмотра полного описания нужно перейти в подробную карту товара.
- **id товара** - по нему тоже можно осуществлять поиск.
- **Графический рейтинг** - показывает в графическом виде усредненный рейтинг товара и количество отзывов о нем.
- **Количество товара** - на момент просмотра. При оформлении данного товара в единичном или в некотором количестве, на данное количество будет уменьшаться общее количество данного товара. Если количество товара будет равна нулю, то при оформлении такого товара выводится предупреждение о невозможности покупки. Если товар снова появляется в продаже, администратор выставляет новое количество, и он снова доступен для покупки. Если товар больше не будет продаваться, администратор удаляет карточку.
- **Сумма товара**: - если на товар имеется скидка, первоначальная сумма будет зачеркнута, а рядом указана новая стоимость с учетом скидки.
- В правом нижнем углу карточки находится пиктограмма **товарной тележки** - при нажатии на которую выбранный товар помещается в корзину.

Если кликнуть по названию товара, то можно перейти в его подробную карту, где будут отображаться все выше перечисленные элементы и при этом будет выводиться уже полное описание товара. Ниже будет размещен рейтинг товара и отзыв о товаре каждого покупателя, кто оставит отзыв и выставит рейтинг. Так же предоставляется возможность оставить свой отзыв и оценку товара. На карте доступны кнопки **«Добавить в корзину»** и **«Отправить отзыв»**.

**Корзина**

Если пользователь добавил товар в корзину, на пиктограмме корзины на главном экране отображается количество товаров в ней. Кликнув по этой пиктограмме, пользователь переходит в корзину, где может редактировать выбранные товары: увеличивать или уменьшать их количество или удалять их.

**Функциональность корзины**

Пиктограмма корзины на главном экране кажется избыточной, но она позволяет любому пользователю, даже без регистрации или авторизации, выбрать и добавить товары в корзину. Количество товаров будет отображаться на пиктограмме корзины. Когда не зарегистрированный или неавторизованный пользователь нажмет на кнопку **«Оформить заказ»**, ему будет предложено авторизоваться или зарегистрироваться, и только после этого он сможет совершить покупку.

**Телеграм-бот**

Как только покупка произведена, программа формирует и отправляет телеграмм бот в магазин, в котором будет вся информация о купленном товаре вплоть до фотографии. Эта информация важна в интернет-магазине для того, чтобы приступить к обработке заказа.

> При выполнении входа в аккаунт или выход из него, при неправильных или ошибочных действиях при регистрации, написании email, номера телефона или ошибки в паролях и т.д., всегда будет выводиться на экран предупреждения о неправильных действиях или информация о совершонных на экран.
> 

### **Программная составляющая проекта**

Данный проект написан на языке Python. Для комфортной и стабильной работы проект использует в качестве базы данных PostgreSQL. Поэтому для пробного использования данного проекта с примерами данных из проекта необходимо выполнить следующие действия:

1. Предварительно необходимо установить на свой компьютер PostgreSQL в конфигурации Local и прописать её в файле settings.
2. Зайти в PostgreSQL, создать пользователя «home» с паролем, к примеру, «home», отметив его как «superuser».
3. Далее нужно создать базу данных с именем «home» и владельцем «home», который был создан ранее.
4. В качестве примера, как прописать базу данных в файле settings, можно воспользоваться файлом settings из этого проекта.
5. Необходимо установить в Python библиотеку `psycopg2` — посредника между Django и базой данных командой:
    
    ```
    pip install psycopg2
    ```
    
6. Далее необходимо выполнить миграции и создать администратора с логином «root» и паролем для простоты «root» следующими командами:
    
    ```
    python manage.py makemigrations
    python manage.py migrate
    python manage.py createsuperuser
    ```
    
7. Загрузить примеры категорий товаров и товаров для наглядности ознакомления с программой. Данные о категориях товаров и товаров представлены в каталоге ***fixtures/goods/*** в формате .json:
   python manage.py loaddata fixtures/goods/cats.json
python manage.py loaddata fixtures/goods/prod.json
